const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/WinnersTable-Dy-fYR0T.js","assets/index-C5hmzyE5.js","assets/index-UzvniAJy.css","assets/MainContent-adRrrM1f.js","assets/MainContent-D_aZdVOv.css"])))=>i.map(i=>d[i]);
import{d as N,_ as x,b as o,j as a,c as g,e as _}from"./index-C5hmzyE5.js";import{d as E,S as v}from"./MainContent-adRrrM1f.js";/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],C=N("X",S),F=async r=>{try{const t=await x(()=>import("./xlsx-Bn0QvjxL.js"),[]),e=await fetch(r);if(!e.ok)throw new Error("Failed to fetch file");const n=await e.arrayBuffer(),l=t.read(n,{type:"array"}),d=l.Sheets[l.SheetNames[0]];return t.utils.sheet_to_json(d)}catch(t){return console.error("Error reading Excel file:",t),[]}},I=()=>{const[r,t]=o.useState([]);return o.useEffect(()=>{F("/data.xlsx").then(n=>{t(n)})},[]),r},y=o.forwardRef(({className:r,type:t,...e},n)=>a.jsx("input",{type:t,className:g("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:n,...e}));y.displayName="Input";const M=_("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function R({className:r,variant:t,...e}){return a.jsx("div",{className:g(M({variant:t}),r),...e})}function h({label:r,items:t,selected:e,onChange:n,toString:l=i=>String(i),placeholder:d}){const[i,p]=o.useState(""),[u,f]=o.useState(!1),m=o.useMemo(()=>{if(!i.trim())return[];const s=i.toLowerCase();return t.filter(c=>l(c).toLowerCase().includes(s)&&!e.includes(c)).slice(0,10)},[t,i,e,l]),w=o.useCallback(s=>{p(s.target.value),f(!0)},[]),b=o.useCallback(s=>{n([...e,s]),p(""),f(!1)},[e,n]),j=o.useCallback(s=>{n(e.filter(c=>c!==s))},[e,n]),k=o.useCallback(s=>{if(s.key==="Escape"){f(!1);return}s.key==="Enter"&&m.length>0&&(s.preventDefault(),b(m[0]))},[m,b]);return a.jsxs("div",{className:"w-full sm:w-[calc(50%-0.5rem)]",children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:r}),a.jsxs("div",{className:"relative",children:[a.jsx(y,{type:"text",value:i,onChange:w,onKeyDown:k,onFocus:()=>f(!0),placeholder:d,className:"w-full","aria-label":r}),u&&m.length>0&&a.jsx("div",{className:"absolute z-10 w-full mt-1 bg-background border rounded-md shadow-lg max-h-60 overflow-auto",role:"listbox",children:m.map((s,c)=>a.jsx("div",{className:"px-4 py-2 hover:bg-muted cursor-pointer",onClick:()=>b(s),role:"option",children:l(s)},`${l(s)}-${c}`))})]}),e.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:e.map((s,c)=>a.jsxs(R,{variant:"secondary",className:"flex items-center gap-1",children:[l(s),a.jsx("button",{type:"button",onClick:()=>j(s),className:"ml-1 h-4 w-4 p-0 hover:text-destructive","aria-label":`Remove ${l(s)}`,children:a.jsx(C,{className:"h-3 w-3"})})]},`${l(s)}-${c}`))})]})}function L(r,t,e){return o.useMemo(()=>!t.length&&!e.length?r:r.filter(n=>{const l=t.length===0||t.includes(n.year),d=e.length===0||e.includes(n.field);return l&&d}),[r,t,e])}const W=E(()=>x(()=>import("./WinnersTable-Dy-fYR0T.js").then(r=>r.W),__vite__mapDeps([0,1,2,3,4])),{loading:()=>a.jsx(v,{className:"h-96 w-full"}),ssr:!1});function $(){const r=I(),[t,e]=o.useState([]),[n,l]=o.useState([]),d=o.useMemo(()=>Array.from(new Set(r.map(u=>u.year))).sort((u,f)=>f-u),[r]),i=o.useMemo(()=>Array.from(new Set(r.map(u=>u.field))).sort(),[r]),p=L(r,t,n);return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-wrap gap-4 p-4 rounded-lg border bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:[a.jsx(h,{label:"Filter by Year",items:d,selected:t,onChange:e,placeholder:"Enter year..."}),a.jsx(h,{label:"Filter by Field",items:i,selected:n,onChange:l,placeholder:"Enter field..."})]}),a.jsx(o.Suspense,{fallback:a.jsx(v,{className:"h-96 w-full"}),children:a.jsx(W,{winners:p})})]})}export{$ as default};
